================================================================================
                    20轮完整训练启动报告
================================================================================

📅 启动时间: 2026-01-26 17:07:00 UTC+8
⏱️  预计完成: 2026-01-28 08:00-10:00 UTC+8
⏳ 预计耗时: 40-50小时

================================================================================
                         🟢 当前状态: 运行中
================================================================================

✅ 训练进程已启动
  • PID: 396561
  • CPU使用率: 152% (多核)
  • 内存使用: 2.69GB / 11.63GB
  • 运行时间: ~8分钟
  • 数据处理速度: ~1.05 it/s

✅ 自动监控已激活
  • 监控脚本: training_complete_flow.sh
  • 检查频率: 每10分钟
  • 自动评估: 完成后触发

================================================================================
                          📋 训练配置详情
================================================================================

数据集配置:
  • 名称: LRS2 MVLRS (英文口语)
  • 训练集: 129,844 样本
  • 验证集: 14,428 样本
  • 预处理: 移除超过200token的序列

模型架构:
  • 基础: Conformer E2E ASR
  • 输入模态: 视频(唇形)
  • 输出: 字符级文本 (30个token)
  • 预训练: 从零开始 (pretrained_model_path=null)

超参配置:
  • 总轮数: 20 epochs
  • Batch Size: 2 (OOM优化版)
  • 梯度累积: 2步
  • 优化器: AdamW
  • 学习率: 默认
  • 验证频率: 自动
  • 日志频率: 每50步

硬件资源:
  • GPU: NVIDIA CUDA (11.63GB VRAM)
  • GPU内存动态: expandable_segments
  • CPU: 多核并行处理
  • 数据加载workers: 2

================================================================================
                          🔧 关键文件位置
================================================================================

日志输出:
  📝 /home/ubuntu/wzz/Cued-Agent/train_20ep.log          (训练日志)
  📝 /home/ubuntu/wzz/Cued-Agent/training_flow.log        (监控进度)

脚本位置:
  🔨 /home/ubuntu/wzz/Cued-Agent/training_complete_flow.sh (监控脚本)
  🔨 /home/ubuntu/wzz/Cued-Agent/inference_and_evaluate.py  (评估脚本)

保存位置:
  💾 lip_agent_and_prompt_decoding_agent/results/lightning_logs/mvlrs_20ep_bs2/

数据位置:
  📁 /home/ubuntu/wzz/Cued-Agent/data/mvlrs_v1/

================================================================================
                          ⏳ 预期时间表
================================================================================

基于当前速度 (1.05 it/s):

  Epoch 0-5    |████░░░░░░░░░░░░░░░| ~8小时
  Epoch 6-10   |████████░░░░░░░░░░░| ~8小时
  Epoch 11-15  |████████████░░░░░░░| ~8小时
  Epoch 16-19  |████████████████░░░| ~8小时
  推理 + 评估  |████████████████░░░| ~2-4小时
  
  总耗时: 40-50小时
  预计完成: 2026-01-28 08:00-10:00

================================================================================
                          🔍 实时监控
================================================================================

查看训练进度 (实时):
  tail -f /home/ubuntu/wzz/Cued-Agent/train_20ep.log

查看最新进度行:
  tail -1 /home/ubuntu/wzz/Cued-Agent/train_20ep.log

监控GPU使用:
  watch -n 1 nvidia-smi

检查进程状态:
  ps aux | grep train_lip_agent

===============================================================================
                         ✅ 自动化流程
================================================================================

已配置的自动化步骤:

1. ✅ 训练启动 [已完成]
2. 🔄 进度监控 [进行中] - 每10分钟检查
3. ⏳ 自动评估 [待触发] - Epoch 19完成时
4. 📄 报告生成 [待触发] - 生成FINAL_REPORT.md

系统将在以下事件自动触发:
  • 训练完成 (Epoch 19, 100%)
  • 运行推理脚本 (inference_and_evaluate.py)
  • 计算WER/CER
  • 生成最终报告 (FINAL_REPORT.md)

================================================================================
                      ⚠️  故障排查指南
================================================================================

[问题] 训练停止/卡顿
  -> 检查: tail -f train_20ep.log
  -> 确认: ps aux | grep train_lip

[问题] GPU内存溢出
  -> 错误: "CUDA out of memory"
  -> 解决: 已优化为batch_size=2，应不再出现

[问题] 磁盘不足
  -> 检查: df -h
  -> 清理: find . -name "*.ckpt" -delete

[问题] 监控脚本未工作
  -> 手动评估: python3 inference_and_evaluate.py

================================================================================
                      💡 完成后的操作
================================================================================

训练完成后,自动生成:

  📊 FINAL_REPORT.md
     - 精度指标 (WER, CER)
     - 基线对比
     - 性能分析

  📈 TRAINING_SUMMARY.txt
     - 训练摘要
     - 配置记录
     - 时间统计

手动查看:
  cat FINAL_REPORT.md

================================================================================
                      📌 重要提醒
================================================================================

❌ 勿在训练期间:
  • 重启系统
  • 删除数据文件
  • 修改checkpoint

✅ 可以安全进行:
  • 查看日志
  • 监控GPU
  • 运行其他任务

📊 性能基线:
  • WER: 22.48%
  • CER: 13.65%
  • Accuracy: 75.88%

================================================================================
生成时间: 2026-01-26 17:07
状态: 🟢 TRAINING_IN_PROGRESS
================================================================================
